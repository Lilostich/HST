# MyVector

Учебный проект по предмету "***Гибридные суперкомпьютерные технологии***"

## Бизнес логика

**Расчет собственного вектора матрицы**

## Алгоритм

Расчет собственного вектора происходит с помощью [степенного метода](https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BF%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4). Результатом является собственный вектор соответствующий максимальному собственному значению.

Основная формула: $$ r_{k+1} = \frac{Ar_k}{||Ar_k||} $$

## Вариант исполнения

* Последовательная реализация
* OpenMP
* **MPI**

### Идея распараллеливания

В данном алгоритме происходит последовательные умножения матрицы на вектор. Пусть каждый поток будет заниматься расчетом своей ячейки в результирующем векторе. 

## Особенности

1. Считывание данных происходит из файла (либо данные передаются по протоколу TCP)

2. Данные генерируются утилитой, принимающей в качестве параметров размер данных для обработки в мегабайтах и имя файла (TCP хост-порт) куда будут выгружены данные

3. Программа выполняет бизнес-логику и записывает результат в выходной файл (отправляет данные на порт возврата результатов программы-генератора по TCP, сохранение файла с результатами осуществляет программа-генератор)

4. В конце файла с результатами сохраняется информация о времени выполнения вычислений и размере обработанных данных

## Запуск

1. Для генерации файлов необходимо использовать команду 
   
   ```bash
   ./Generator 10 50 100 250 500
   ```

2. Для запуска расчета собственных векторов используйте команду
   
   ```bash
   mpiexec -n 8 MyVector.exe
   ```

3. Результаты будут записываться в файл, имя которого генерируется добавкой приставки ***result_***

За выбор с каким файлом работать отвечает `CHOICE` в main.cpp

## Результаты

В таблице ниже показаны времена нахождения собственных векторов в зависимости от файла. Время представлено в мс.

|                  | 10мб | 50мб | 100 мб | 250мб | 500мб |
| ---------------- | ---- | ---- | ------ | ----- | ----- |
| Последовательный | 79   | 333  | 697    | 1580  | 3078  |
| OpenMP           | 36   | 139  | 271    | 739   | 1751  |
| MPI              | 53   | 144  | 265    | 661   | 1292  |
